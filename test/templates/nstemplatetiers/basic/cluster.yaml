apiVersion: template.openshift.io/v1
kind: Template
metadata:
  labels:
    toolchain.dev.openshift.com/provider: codeready-toolchain
  name: basic-cluster-resources
objects:
- apiVersion: quota.openshift.io/v1
  kind: ClusterResourceQuota
  metadata:
    name: for-${USERNAME}
  spec:
    quota:
      hard:
        limits.cpu: 4000m
        limits.memory: 7Gi
        requests.storage: 7Gi
        persistentvolumeclaims: "5"
    selector:
      annotations:
        openshift.io/requester: ${USERNAME}
      labels: null
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRoleBinding
  metadata:
    name: ${USERNAME}-tekton-view
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: tekton-view
  subjects:
  - kind: User
    name: ${USERNAME}
parameters:
- name: USERNAME
  required: true